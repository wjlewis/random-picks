(()=>{"use strict";var e;function t(e){return`${e.x}:${e.y}`}function n(e){const[t,n]=e.split(":").map(Number);return{x:t,y:n}}function r({x:e,y:t}){return function({x:e,y:t}){return((e+t)%2+2)%2==0}({x:e,y:t})?[{x:e+1,y:t},{x:e-1,y:t}]:[{x:e,y:t+1},{x:e,y:t-1}]}let s;!function(e){e.generate="generate",e.progress="progress",e.cancel="cancel"}(e||(e={})),self.onmessage=c=>{const o=c.data;if(o.type===e.generate){const{pickCount:o}=c.data;s=function(e,s){const c={current:null},o={x:0,y:0},a=new Set([t(o)]),u=new Set(r(o).map(t));function i(){return{centers:[...a].map(n),frontier:[...u].map(n)}}return c.current=setTimeout((function o(){const l=Math.min(1e3,e-a.size);for(let e=0;e<l;e++){const e=(p=[...u])[Math.floor(Math.random()*p.length)],s=n(e);a.add(e),u.delete(e);for(const e of r(s)){const n=t(e);u.has(n)?u.delete(n):a.has(n)||u.add(n)}}var p;const f=a.size===e;s({percent:f?null:a.size/e*100,picks:i()}),f||(c.current=setTimeout(o,1))}),1),()=>{clearTimeout(c.current),s({percent:null,picks:i()})}}(o,(t=>self.postMessage({type:e.progress,...t})))}else o.type===e.cancel&&s?.()}})();